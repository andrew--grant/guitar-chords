<chords-menu-w-progress>
    <div each={mi in menuItems } class='chord-button-container'>
        <!-- button and progress indicator-->
        <button id="chord-button-{mi.index}" class='chord-button' onclick={chordSelected}>G</button>
        <progress-bar id="progress-bar-{mi.index}" duration="10 " start={doProgressStart} end={doProgressEnd} progress={doProgress}/>
    </div>
    <style>
        .chords-menu {
            margin: auto;
            text-align: center;
            font-size: 2em;
            max-width: 1000px;
            min-width: 800px;
        }
        
        .chord-button {
            background-color: #222;
            margin: 0;
            padding: .2em;
            color: #eee;
            font-size: 2em;
            border: none;
            border-radius: 4px 4px 0 0;
            outline: none;
            width: 100%;
        }
        
        .chord-button-container {
            float: left;
            padding: 0;
            overflow: hidden;
            margin: .25em;
            text-align: center;
            width: 130px;
        }
        
        .chord-button:hover {
            background-color: #c22;
            color: white;
        }
        
        .chord-button:active {
            background-color: #c22;
            color: white;
            height: 100%;
        }
        
        .chord-button-active {
            background-color: #c22;
            color: white;
            height: 100%;
        }
        
        .chord-selected {
            background-color: #c22;
        }
    </style>
    <script>
        var self = this;
        this.menuItems = [];

        self.on('mount', function() {
            // apply default menu items filter
            self.renderMenuItems();
        });

        self.on('update', function() {});

        chordSelected(e) {
            console.log('chordSelected --> ' + e.target.innerText);
            // todo: populate with actual chords, then query for 
            // specific progress-bar to start (via renderMenuItems below)
            var tags = self.tags['progress-bar'];
            tags[7].start();
            console.log(tags[7]);

        }

        renderMenuItems() {
            for (var i = 0; i < 10; i++) {
                this.menuItems.push({
                    "name": "G", //todo: actual chord name
                    "index": i
                });
            }
            this.update();
        }

        doProgressLoaded(pb) {
            // console.log('doProgressLoaded');
            // pb.start();
        }

        doProgressStart() {
            //console.log('doProgressStart');
        }

        doProgressEnd() {
            //console.log('doProgressEnd');
        }

        doProgress() {
            //console.log('doProgress');
        }
    </script>
</chords-menu-w-progress>